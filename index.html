<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš¡ ì „ê¸°ê³¼ ê¸°ì´ˆ ê³„ì‚°ê¸° (GPT-4o ì „ì œ)</title>
    
    <style>
        /* (CSS ë¶€ë¶„ ìˆ˜ì •) */
        /* ê¸°ë³¸ ë¦¬ì…‹ ë° í°íŠ¸ ì„¤ì • */
        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', 'Nanum Gothic', sans-serif;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        header {
            background-color: #007bff;
            color: white;
            padding: 15px 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h1 { margin: 0; font-size: 1.5em; }
        .tabs { display: flex; justify-content: space-around; background-color: #e9ecef; border-bottom: 2px solid #ced4da; }
        .tab-btn { flex-grow: 1; padding: 15px 10px; border: none; background-color: transparent; cursor: pointer; font-size: 1em; font-weight: 600; transition: background-color 0.3s, color 0.3s; }
        .tab-btn.active { background-color: white; color: #007bff; border-bottom: 3px solid #007bff; }
        main { padding: 20px; }
        .tab-content { display: none; padding: 15px; background-color: white; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); }
        .tab-content.active { display: block; }
        h2 { color: #007bff; border-bottom: 2px solid #e9ecef; padding-bottom: 10px; margin-top: 0; }

        /* í¼ ë° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: 600; }
        input[type="number"], select { width: 100%; padding: 10px; border: 1px solid #ced4da; border-radius: 4px; box-sizing: border-box; font-size: 1em; }
        .calculate-btn { width: 100%; padding: 12px; background-color: #28a745; color: white; border: none; border-radius: 4px; font-size: 1.1em; cursor: pointer; transition: background-color 0.3s; margin-bottom: 15px; }
        .calculate-btn:hover { background-color: #218838; }

        /* ì €í•­ ìƒ‰ë  ìŠ¤íƒ€ì¼ */
        .resistor-type-selector { margin-bottom: 20px; display: flex; gap: 20px; justify-content: center; }
        .input-group-resistor { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
        .resistor-band-select { flex: 1 1 45%; min-width: 120px; }
        .resistor-visualizer { display: flex; justify-content: center; align-items: center; margin: 30px 0; }
        
        /* ì €í•­ ë³¸ì²´ í¬ê¸° ì›ë³µ: 300px, 60px */
        .resistor-body { 
            width: 300px; 
            height: 60px; 
            background-color: #c79f8b; 
            border-radius: 25px; 
            display: flex; 
            align-items: center; 
            padding: 0 15px; 
            position: relative; 
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2); 
        }
        /* ë¦¬ë“œì„  ê¸¸ì´ë§Œ ì¤„ì„: 30px -> 15px, ë‘ê»˜ 3px -> 2px */
        .resistor-body::before, .resistor-body::after { 
            content: ''; 
            position: absolute; 
            width: 15px; /* ë¦¬ë“œì„  ê¸¸ì´ ì¡°ì • */
            height: 2px; /* ë¦¬ë“œì„  ë‘ê»˜ ì¡°ì • */
            background-color: #777; 
            top: 50%; 
            transform: translateY(-50%); 
        }
        .resistor-body::before { left: -15px; }
        .resistor-body::after { right: -15px; }
        
        /* ë  í¬ê¸° ì›ë³µ: 50px, 10px */
        .band { 
            width: 10px; 
            height: 50px; 
            border-radius: 2px; 
            margin: 0 5px; /* ë  ê°„ê²© ì¡°ì • */
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5); 
            opacity: 0; 
            transition: all 0.3s; 
        }
        .band.active { opacity: 1; }
        #band1 { margin-left: 0; }
        .resistor-body.five-band #band5 { margin-right: 0; margin-left: 15px; /* 5ìƒ‰ë  ì˜¤ì°¨ë  ìœ„ì¹˜ ì¡°ì • */ } 
        .resistor-body:not(.five-band) #band4 { margin-right: 0; margin-left: 15px; /* 4ìƒ‰ë  ì˜¤ì°¨ë  ìœ„ì¹˜ ì¡°ì • */ }

        /* ìƒ‰ìƒ í´ë˜ìŠ¤ëŠ” ê¸°ì¡´ê³¼ ë™ì¼ */
        .black { background-color: black; }
        .brown { background-color: brown; }
        .red { background-color: red; }
        .orange { background-color: orange; }
        .yellow { background-color: yellow; }
        .green { background-color: green; }
        .blue { background-color: blue; }
        .violet { background-color: violet; }
        .gray { background-color: gray; }
        .white { background-color: white; }
        .gold { background-color: gold; }
        .silver { background-color: silver; }

        /* ì±—ë´‡ ìŠ¤íƒ€ì¼ì€ ê¸°ì¡´ê³¼ ë™ì¼ */
        .chatbot-container-wrapper {
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #fffbe5; /* ì—°í•œ ë…¸ë€ìƒ‰ */
            margin-top: 20px;
        }
        .chatbot-container {
            padding: 10px;
            max-height: 250px; 
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message { 
            max-width: 80%; 
            padding: 10px; 
            border-radius: 15px; 
            font-size: 1.1em; /* ê¸€ì”¨ í¬ê¸° í™•ëŒ€ */
            line-height: 1.4; 
        }
        .user-message { align-self: flex-end; background-color: #dcf8c6; border-bottom-right-radius: 2px; color: #1f2d3d; }
        .bot-message { align-self: flex-start; background-color: #e2f0fb; border-bottom-left-radius: 2px; color: #0056b3; animation: fadeIn 0.5s ease-out; }
        .bot-message strong { 
            display: block; 
            margin-bottom: 5px; 
            font-size: 1.15em; /* ì¤‘ìš” í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
        }
        .error-message { background-color: #f8d7da; color: #721c24; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* ì±—ë´‡ ê²€ìƒ‰ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ì€ ê¸°ì¡´ê³¼ ë™ì¼ */
        .chatbot-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #eee;
        }

        .chatbot-input input {
            flex-grow: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 8px;
        }

        .chatbot-input button {
            padding: 8px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .chatbot-input button:hover {
            background-color: #0056b3;
        }
    </style>
    </head>
<body>
    <header>
        <h1>âš¡ ì „ê¸°ê³¼ ê¸°ì´ˆ ê³„ì‚°ê¸°</h1>
    </header>
    
    <nav class="tabs">
        <button class="tab-btn active" data-tab="ohm">ì˜´ì˜ ë²•ì¹™</button>
        <button class="tab-btn" data-tab="power">ì „ë ¥ ê³„ì‚°</button>
        <button class="tab-btn" data-tab="resistor">ì €í•­ ìƒ‰ë </button>
    </nav>

    <main id="app-container">
        <section id="ohm" class="tab-content active">
            <h2>ì˜´ì˜ ë²•ì¹™ (V, I, R)</h2>
            <p>ë‘ ê°’ì„ ì…ë ¥í•˜ê³  ê³„ì‚° ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.</p>
            <form id="ohm-form">
                <div class="input-group">
                    <label for="ohm-v">ì „ì•• (V)</label>
                    <input type="number" id="ohm-v" placeholder="ë³¼íŠ¸ (V)" min="0">
                </div>
                <div class="input-group">
                    <label for="ohm-i">ì „ë¥˜ (I)</label>
                    <input type="number" id="ohm-i" placeholder="ì•”í˜ì–´ (A)" min="0">
                </div>
                <div class="input-group">
                    <label for="ohm-r">ì €í•­ (R)</label>
                    <input type="number" id="ohm-r" placeholder="ì˜´ (Î©)" min="0">
                </div>
                <button type="submit" class="calculate-btn">ê³„ì‚° ë° í”¼ë“œë°± ë°›ê¸°</button>
            </form>
            <div class="chatbot-container-wrapper">
                <div id="ohm-chatbot" class="chatbot-container"></div>
                <div class="chatbot-input">
                    <input type="text" id="ohm-search-input" placeholder="ì „ê¸°ì™€ ê´€ë ¨ëœ ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ ê²€ìƒ‰í•˜ì„¸ìš”. (ì˜ˆ: 12V, 4ì˜´ -> IëŠ”?)">
                    <button onclick="handleSearch('ohm')">ê²€ìƒ‰</button>
                </div>
            </div>
        </section>

        <section id="power" class="tab-content">
            <h2>ì „ë ¥ ê³„ì‚° (P)</h2>
            <p>ë‘ ê°’ì„ ì…ë ¥í•˜ê³  ê³„ì‚° ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.</p>
            <form id="power-form">
                <div class="input-group">
                    <label for="power-v">ì „ì•• (V)</label>
                    <input type="number" id="power-v" placeholder="ë³¼íŠ¸ (V)" min="0">
                </div>
                <div class="input-group">
                    <label for="power-i">ì „ë¥˜ (I)</label>
                    <input type="number" id="power-i" placeholder="ì•”í˜ì–´ (A)" min="0">
                </div>
                <div class="input-group">
                    <label for="power-r">ì €í•­ (R)</label>
                    <input type="number" id="power-r" placeholder="ì˜´ (Î©)" min="0">
                </div>
                <button type="submit" class="calculate-btn">ê³„ì‚° ë° í”¼ë“œë°± ë°›ê¸°</button>
            </form>
            <div class="chatbot-container-wrapper">
                <div id="power-chatbot" class="chatbot-container"></div>
                <div class="chatbot-input">
                    <input type="text" id="power-search-input" placeholder="ì „ê¸°ì™€ ê´€ë ¨ëœ ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ ê²€ìƒ‰í•˜ì„¸ìš”. (ì˜ˆ: 50W, 10V -> Rì€?)">
                    <button onclick="handleSearch('power')">ê²€ìƒ‰</button>
                </div>
            </div>
        </section>

        <section id="resistor" class="tab-content">
            <h2>ì €í•­ ìƒ‰ë  ê³„ì‚° (4ìƒ‰ë  vs 5ìƒ‰ë )</h2>
            
            <div class="resistor-type-selector">
                <label>
                    <input type="radio" name="band-type" value="4band" checked>
                    4ìƒ‰ë  ì €í•­ (ì¼ë°˜ìš©)
                </label>
                <label>
                    <input type="radio" name="band-type" value="5band">
                    5ìƒ‰ë  ì €í•­ (ì •ë°€ìš©)
                </label>
            </div>
            

            <div class="resistor-visualizer">
                <div id="resistor-body" class="resistor-body">
                    <div id="band1" class="band"></div>
                    <div id="band2" class="band"></div>
                    <div id="band3" class="band"></div>
                    <div id="band4" class="band"></div>
                    <div id="band5" class="band"></div>
                </div>
            </div>

            <form id="resistor-form">
                <div class="input-group-resistor" id="resistor-inputs">
                    </div>
            </form>
            <button type="button" class="calculate-btn" onclick="calculateResistance(true)">ìƒ‰ë  ê³„ì‚° ë° ê²°ê³¼ í™•ì¸</button>
            <div class="chatbot-container-wrapper">
                <div id="resistor-chatbot" class="chatbot-container">
                    </div>
                <div class="chatbot-input">
                    <input type="text" id="resistor-search-input" placeholder="ì €í•­ ìƒ‰ìƒí‘œ ì •ë³´ë‚˜ ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ ê²€ìƒ‰í•˜ì„¸ìš”.">
                    <button onclick="handleSearch('resistor')">ê²€ìƒ‰</button>
                </div>
            </div>
        </section>

    </main>
    
    <script>
        // --- ì „ì—­ ìƒìˆ˜ ë° ì„¤ì • ---
        const SEARCH_DATA = {
            'ì˜´': 'ì˜´(Ohm)ì€ ì „ê¸° ì €í•­ì˜ ë‹¨ìœ„(Î©)ì…ë‹ˆë‹¤. íšŒë¡œì—ì„œ ì „ë¥˜ì˜ íë¦„ì„ ë°©í•´í•˜ëŠ” ì •ë„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.',
            'ì „ì••': 'ì „ì••(Voltage, V)ì€ ì „ê¸° íšŒë¡œì˜ ë‘ ì§€ì  ì‚¬ì´ì˜ ì „ìœ„ì°¨ì…ë‹ˆë‹¤. ì „ë¥˜ë¥¼ íë¥´ê²Œ í•˜ëŠ” í˜ì…ë‹ˆë‹¤.',
            'ì „ë¥˜': 'ì „ë¥˜(Current, I)ëŠ” ì „í•˜ì˜ íë¦„ì…ë‹ˆë‹¤. ë‹¨ìœ„ëŠ” ì•”í˜ì–´(A)ì…ë‹ˆë‹¤.',
            'ì €í•­': 'ì €í•­(Resistance, R)ì€ ë„ì²´ê°€ ì „ë¥˜ì˜ íë¦„ì„ ë°©í•´í•˜ëŠ” ì •ë„ì…ë‹ˆë‹¤. ë‹¨ìœ„ëŠ” ì˜´(Î©)ì…ë‹ˆë‹¤.',
            'ì „ë ¥': 'ì „ë ¥(Power, P)ì€ ë‹¨ìœ„ ì‹œê°„ë‹¹ ì†Œë¹„ë˜ëŠ” ì „ê¸° ì—ë„ˆì§€ì˜ ì–‘ì…ë‹ˆë‹¤. ë‹¨ìœ„ëŠ” ì™€íŠ¸(W)ì…ë‹ˆë‹¤.',
            'ì™€íŠ¸': 'ì™€íŠ¸(Watt, W)ëŠ” ì „ë ¥ì˜ ë‹¨ìœ„ì…ë‹ˆë‹¤. 1WëŠ” 1ì´ˆ ë™ì•ˆ 1ì¤„(J)ì˜ ì—ë„ˆì§€ë¥¼ ì†Œë¹„í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.',
            'ìƒ‰ë ': 'ì €í•­ì˜ ìƒ‰ë ëŠ” ì €í•­ê°’, ìŠ¹ìˆ˜(ê³±í•˜ëŠ” ê°’), í—ˆìš© ì˜¤ì°¨ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. 4ìƒ‰ë ëŠ” ì¼ë°˜ìš©, 5ìƒ‰ë ëŠ” ì •ë°€ìš©ì…ë‹ˆë‹¤.',
            'í—ˆìš© ì˜¤ì°¨': 'í—ˆìš© ì˜¤ì°¨(Tolerance)ëŠ” ì €í•­ê°’ì˜ ì‹¤ì œ ì¸¡ì •ê°’ì´ í‘œê¸°ëœ ê°’ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆëŠ” ë²”ìœ„(%)ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.',
            'ì£¼íŒŒìˆ˜': 'ì£¼íŒŒìˆ˜(Frequency)ëŠ” êµë¥˜(AC)ì—ì„œ ì „ê¸°ì˜ ë°©í–¥ì´ ì´ˆë‹¹ ë°”ë€ŒëŠ” íšŸìˆ˜ì…ë‹ˆë‹¤. ë‹¨ìœ„ëŠ” í—¤ë¥´ì¸ (Hz)ì…ë‹ˆë‹¤.',
        };
        
        const CALC_UNITS = {
            'V': ['v', 'ë³¼íŠ¸', 'ì „ì••'],
            'I': ['a', 'ì•”í˜ì–´', 'ì „ë¥˜'],
            'R': ['r', 'ì˜´', 'Î©', 'ì €í•­'],
            'P': ['w', 'ì™€íŠ¸', 'ì „ë ¥']
        };


        // --- DOMContentLoaded ë° ì´ˆê¸°í™” ë¡œì§ ---
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            const bandTypeSelectors = document.querySelectorAll('input[name="band-type"]');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;

                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === targetTab) {
                            content.classList.add('active');
                            if (targetTab === 'resistor') {
                                // íƒ­ì´ ë³€ê²½ë  ë•Œë§Œ ì´ˆê¸°í™”
                                setupResistorCalculator(false); 
                            }
                        }
                    });
                });
            });

            bandTypeSelectors.forEach(selector => {
                selector.addEventListener('change', () => {
                    if (document.getElementById('resistor').classList.contains('active')) {
                        // ì €í•­ ìœ í˜• ë³€ê²½ ì‹œ ê³„ì‚°ê¸° ì¬ì„¤ì • ë° ë©”ì‹œì§€ ì¶œë ¥
                        setupResistorCalculator(true); 
                        const bandType = document.querySelector('input[name="band-type"]:checked').value;
                        const chatbot = document.getElementById('resistor-chatbot');
                        addBotMessage(chatbot, `ì €í•­ ìœ í˜•ì„ **${bandType === '4band' ? '4ìƒ‰ë  ì €í•­' : '5ìƒ‰ë  ì €í•­'}**ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. ìƒ‰ë ë¥¼ ì„ íƒí•˜ê³  'ê³„ì‚°' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.`, 'ì €í•­ ìœ í˜• ë³€ê²½');
                    }
                });
            });

            document.getElementById('ohm').classList.add('active');
            // ì´ˆê¸° ë¡œë“œ ì‹œ ì €í•­ ê³„ì‚°ê¸°ëŠ” ë©”ì‹œì§€ ì—†ì´ ì‹œê°í™”ë§Œ ì„¤ì •
            setupResistorCalculator(false); 
        });

        // --- ì±—ë´‡ ë©”ì‹œì§€ ì¶”ê°€ ìœ í‹¸ë¦¬í‹° ---
        function addMessage(container, message, type) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', `${type}-message`);
            messageElement.innerHTML = message;
            container.appendChild(messageElement);
            container.scrollTop = container.scrollHeight;
        }

        function addUserMessage(container, inputSummary) {
            addMessage(container, `ì…ë ¥ê°’: ${inputSummary}`, 'user');
        }

        function addBotMessage(container, resultHTML, feedbackText) {
            const message = `<strong>âœ… ${resultHTML.includes('ì˜¤ë¥˜') ? 'ì˜¤ë¥˜ ë©”ì‹œì§€' : 'ê³„ì‚° ê²°ê³¼'}</strong>${resultHTML}<br><br>${feedbackText}`;
            addMessage(container, message, 'bot');
        }
        
        function addErrorMessage(container, message) {
            addMessage(container, `âŒ ì˜¤ë¥˜: ${message}`, 'error');
        }

        // --- ë‹¨ìœ„ ë³€í™˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ---
        function formatUnit(value, unit) {
            const absValue = Math.abs(value);

            if (absValue >= 1e6) {
                return `${(value / 1e6).toFixed(3).replace(/\.0+$/, '')} M${unit}`;
            } else if (absValue >= 1e3) {
                return `${(value / 1e3).toFixed(3).replace(/\.0+$/, '')} k${unit}`;
            } else if (absValue < 1 && absValue > 0.001) {
                return `${(value * 1e3).toFixed(3).replace(/\.0+$/, '')} m${unit}`;
            }
            return `${value.toFixed(3).replace(/\.0+$/, '')} ${unit}`;
        }

        // --- ê³„ì‚° ë¬¸ì œ í•´ê²° í•¨ìˆ˜ (ê°•í™”ëœ ë¡œì§ - ê¸°ì¡´ê³¼ ë™ì¼) ---
        function solveElectricalProblem(query) {
            const cleanedQuery = query.toLowerCase()
                .replace(/(\s*=\s*|\s*ì¼ë•Œ|\s*ë•Œ|\s*ë©´|\s*ì´ë©´)/g, ' ') 
                .replace(/[,\(\)]/g, '')
                .replace(/(\s+ì´\s+|\s+ê°€\s+|\s+ì€\s+|\s+ëŠ”\s+)/g, ' ');

            let values = {};
            let required = null;

            const valueRegex = /(\d+(\.\d+)?)\s*(v|ë³¼íŠ¸|ì „ì••|a|ì•”í˜ì–´|ì „ë¥˜|r|ì˜´|Î©|ì €í•­|w|ì™€íŠ¸|ì „ë ¥)/ig;
            let match;

            while ((match = valueRegex.exec(cleanedQuery)) !== null) {
                const val = parseFloat(match[1]);
                const matchedUnit = match[3].toLowerCase();

                if (CALC_UNITS.V.some(u => matchedUnit.includes(u))) values['V'] = val;
                else if (CALC_UNITS.I.some(u => matchedUnit.includes(u))) values['I'] = val;
                else if (CALC_UNITS.R.some(u => matchedUnit.includes(u))) values['R'] = val;
                else if (CALC_UNITS.P.some(u => matchedUnit.includes(u))) values['P'] = val;
            }

            if (cleanedQuery.includes('ì „ë¥˜ëŠ”') || cleanedQuery.includes('iëŠ”') || cleanedQuery.includes('aëŠ”') || cleanedQuery.includes('ì „ë¥˜ê°€') || cleanedQuery.includes('iê°€') || cleanedQuery.includes('ì „ë¥˜ê°’ì€')) required = 'I';
            else if (cleanedQuery.includes('ì „ì••ì€') || cleanedQuery.includes('vëŠ”') || cleanedQuery.includes('ì „ì••ì´') || cleanedQuery.includes('vê°€') || cleanedQuery.includes('ì „ì••ê°’ì€')) required = 'V';
            else if (cleanedQuery.includes('ì €í•­ì€') || cleanedQuery.includes('rì€') || cleanedQuery.includes('ì˜´ì€') || cleanedQuery.includes('ì €í•­ì´') || cleanedQuery.includes('rê°€') || cleanedQuery.includes('ì €í•­ê°’ì€')) required = 'R';
            else if (cleanedQuery.includes('ì „ë ¥ì€') || cleanedQuery.includes('pëŠ”') || cleanedQuery.includes('wëŠ”') || cleanedQuery.includes('ì „ë ¥ì´') || cleanedQuery.includes('pê°€') || cleanedQuery.includes('ì „ë ¥ê°’ì€')) required = 'P';

            if (!required || Object.keys(values).length < 2) {
                return { success: false }; 
            }

            const { V, I, R, P } = values;
            let resultValue = null;
            let resultUnit = null;
            let formula = '';

            const keys = Object.keys(values);

            if (required === 'V' && keys.length === 2) {
                if (I !== undefined && R !== undefined) {
                    resultValue = I * R; formula = 'V = I Ã— R'; resultUnit = 'V';
                } else if (P !== undefined && I !== undefined && I !== 0) {
                    resultValue = P / I; formula = 'V = P / I'; resultUnit = 'V';
                } else if (P !== undefined && R !== undefined && R >= 0) {
                    resultValue = Math.sqrt(P * R); formula = 'V = âˆš(P Ã— R)'; resultUnit = 'V';
                }
            } 
            else if (required === 'I' && keys.length === 2) {
                if (V !== undefined && R !== undefined && R !== 0) {
                    resultValue = V / R; formula = 'I = V / R'; resultUnit = 'A';
                } else if (P !== undefined && V !== undefined && V !== 0) {
                    resultValue = P / V; formula = 'I = P / V'; resultUnit = 'A';
                } else if (P !== undefined && R !== undefined && R !== 0) {
                    resultValue = Math.sqrt(P / R); formula = 'I = âˆš(P / R)'; resultUnit = 'A';
                }
            } 
            else if (required === 'R' && keys.length === 2) {
                if (V !== undefined && I !== undefined && I !== 0) {
                    resultValue = V / I; formula = 'R = V / I'; resultUnit = 'Î©';
                } else if (V !== undefined && P !== undefined && P !== 0) {
                    resultValue = (V * V) / P; formula = 'R = VÂ² / P'; resultUnit = 'Î©';
                } else if (I !== undefined && P !== undefined && I !== 0) {
                    resultValue = P / (I * I); formula = 'R = P / IÂ²'; resultUnit = 'Î©';
                }
            } 
            else if (required === 'P' && keys.length === 2) {
                if (V !== undefined && I !== undefined) {
                    resultValue = V * I; formula = 'P = V Ã— I'; resultUnit = 'W';
                } else if (I !== undefined && R !== undefined) {
                    resultValue = I * I * R; formula = 'P = IÂ² Ã— R'; resultUnit = 'W';
                } else if (V !== undefined && R !== undefined && R !== 0) {
                    resultValue = (V * V) / R; formula = 'P = VÂ² / R'; resultUnit = 'W';
                }
            }

            if (resultValue !== null && !isNaN(resultValue) && isFinite(resultValue) && resultValue >= 0) {
                let inputSummary = Object.keys(values).map(key => {
                    let unit;
                    if (key === 'V') unit = 'V'; else if (key === 'I') unit = 'A';
                    else if (key === 'R') unit = 'Î©'; else if (key === 'P') unit = 'W';
                    return `${key} = ${values[key]} ${unit}`;
                }).join(', ');
                
                const formattedResult = `${required} ê°’: **${formatUnit(resultValue, resultUnit)}**`;
                const feedback = `ê²€ìƒ‰í•˜ì‹  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ${required} ê°’ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.`;

                return { 
                    success: true, 
                    resultHTML: `${formattedResult} (ê³µì‹: ${formula})`, 
                    feedback: feedback, 
                    inputSummary: `ì…ë ¥ê°’: ${inputSummary}`,
                };
            }

            return { success: false };
        }

        // --- ê²€ìƒ‰ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ (ê¸°ì¡´ê³¼ ë™ì¼) ---
        function handleSearch(tabId) {
            const inputElement = document.getElementById(`${tabId}-search-input`);
            const chatbot = document.getElementById(`${tabId}-chatbot`);
            const query = inputElement.value.trim();

            if (!query) return;

            addMessage(chatbot, query, 'user');

            const calculationResult = solveElectricalProblem(query);

            if (calculationResult.success) {
                addBotMessage(chatbot, calculationResult.resultHTML, calculationResult.feedback);
            } else {
                let found = false;
                let response = '';
                const lowerQuery = query.toLowerCase();

                for (const [keyword, definition] of Object.entries(SEARCH_DATA)) {
                    if (lowerQuery.includes(keyword) || keyword.includes(lowerQuery)) {
                        response = `**ğŸ” ${keyword.charAt(0).toUpperCase() + keyword.slice(1)} (ê¸°ë³¸ ì •ë³´)**<br>${definition}`;
                        found = true;
                        break;
                    }
                }

                if (!found) {
                    response = `**"${query}"**ì— ëŒ€í•œ ê¸°ë³¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. GPT-4o ëª¨ë¸ì„ í†µí•´ ì™¸ë¶€ ê²€ìƒ‰ ì—”ì§„ ë° ìœ íŠœë¸Œ ì˜ìƒì„ íƒìƒ‰í•˜ì—¬ ìƒì„¸ ì •ë³´ë¥¼ ì°¾ì•„ ë“œë¦´ê²Œìš”!`;
                }

                addMessage(chatbot, response, found ? 'bot' : 'error');
            }

            inputElement.value = '';
        }

        // --- 1. ì˜´ì˜ ë²•ì¹™ ê³„ì‚°ê¸° ë¡œì§ (ê¸°ì¡´ê³¼ ë™ì¼) ---
        document.getElementById('ohm-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const V = parseFloat(document.getElementById('ohm-v').value);
            const I = parseFloat(document.getElementById('ohm-i').value);
            const R = parseFloat(document.getElementById('ohm-r').value);
            const chatbot = document.getElementById('ohm-chatbot');
            
            const inputs = [V, I, R].filter(val => !isNaN(val) && val >= 0);

            if (inputs.length !== 2) {
                addErrorMessage(chatbot, 'ì •í™•íˆ ë‘ ê°œì˜ ì–‘ìˆ˜ ê°’ì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            let resultValue = 0;
            let resultUnit = '';
            let calculatedType = '';
            let feedback = '';
            let inputSummary = '';
            let formula = '';

            if (!isNaN(V) && !isNaN(I) && isNaN(R)) {
                if (I === 0) { addErrorMessage(chatbot, 'ì „ë¥˜(I)ëŠ” 0ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ì˜¤ë¥˜).'); return; }
                resultValue = V / I;
                resultUnit = 'Î©';
                calculatedType = 'ì €í•­ (R)';
                formula = 'R = V / I';
                inputSummary = `V = ${V} V, I = ${I} A`;
                feedback = 'ì…ë ¥í•œ ì „ì••ê³¼ ì „ë¥˜ë¡œ íšŒë¡œê°€ ê°€ì§ˆ ì €í•­ê°’ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤. **ì €í•­ì€ ì „ë¥˜ì˜ íë¦„ì„ ë°©í•´**í•˜ëŠ” ìš”ì†Œì…ë‹ˆë‹¤.';
            } 
            else if (!isNaN(V) && isNaN(I) && !isNaN(R)) {
                if (R === 0) { addErrorMessage(chatbot, 'ì €í•­(R)ì€ 0ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ì˜¤ë¥˜).'); return; }
                resultValue = V / R;
                resultUnit = 'A';
                calculatedType = 'ì „ë¥˜ (I)';
                formula = 'I = V / R';
                inputSummary = `V = ${V} V, R = ${R} Î©`;
                feedback = 'ì…ë ¥í•œ ì „ì••ê³¼ ì €í•­ê°’ìœ¼ë¡œ íšŒë¡œì— íë¥¼ ì „ë¥˜ë¥¼ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤. **ì „ë¥˜ê°€ ë„ˆë¬´ ë†’ìœ¼ë©´** íšŒë¡œê°€ ì†ìƒë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
            } 
            else if (isNaN(V) && !isNaN(I) && !isNaN(R)) {
                resultValue = I * R;
                resultUnit = 'V';
                calculatedType = 'ì „ì•• (V)';
                formula = 'V = I Ã— R';
                inputSummary = `I = ${I} A, R = ${R} Î©`;
                feedback = 'ì…ë ¥í•œ ì „ë¥˜ì™€ ì €í•­ê°’ì„ ìœ ì§€í•˜ëŠ” ë° í•„ìš”í•œ ì „ì••ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤. **ì „ì••ì€ ì „ë¥˜ë¥¼ íë¥´ê²Œ í•˜ëŠ” í˜**ì…ë‹ˆë‹¤.';
            } else {
                addErrorMessage(chatbot, 'ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. ë‘ ê°œì˜ ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const formattedResult = `${calculatedType} = **${formatUnit(resultValue, resultUnit)}** (ê³µì‹: ${formula})`;
            
            addUserMessage(chatbot, inputSummary);
            addBotMessage(chatbot, formattedResult, feedback);
        });

        // --- 2. ì „ë ¥ ê³„ì‚°ê¸° ë¡œì§ (ê¸°ì¡´ê³¼ ë™ì¼) ---
        document.getElementById('power-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const V = parseFloat(document.getElementById('power-v').value);
            const I = parseFloat(document.getElementById('power-i').value);
            const R = parseFloat(document.getElementById('power-r').value);
            const chatbot = document.getElementById('power-chatbot');

            const inputs = [V, I, R].filter(val => !isNaN(val) && val >= 0);

            if (inputs.length !== 2) {
                addErrorMessage(chatbot, 'ì •í™•íˆ ë‘ ê°œì˜ ì–‘ìˆ˜ ê°’ì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            let P = 0; 
            let formula = '';
            let feedback = '';
            let inputSummary = '';

            if (!isNaN(V) && !isNaN(I)) {
                P = V * I;
                formula = 'P = V Ã— I';
                inputSummary = `V = ${V} V, I = ${I} A`;
                feedback = 'ì „ì••ê³¼ ì „ë¥˜ë¥¼ ì´ìš©í•´ ì†Œë¹„ ì „ë ¥ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤. **ì™€íŠ¸(W)ëŠ” ì—ë„ˆì§€ê°€ ì†Œë¹„ë˜ëŠ” ì†ë„**ë¥¼ ë‚˜íƒ€ëƒ…së‹ˆë‹¤.';
            } 
            else if (!isNaN(I) && !isNaN(R)) {
                P = I * I * R;
                formula = 'P = IÂ² Ã— R';
                inputSummary = `I = ${I} A, R = ${R} Î©`;
                feedback = 'ì „ë¥˜ì™€ ì €í•­ì„ ì´ìš©í•´ ì „ë ¥ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤. ì €í•­ì— ì˜í•´ **ì—´ë¡œ ì†Œëª¨ë˜ëŠ” ì „ë ¥**ì„ ê³„ì‚°í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.';
            } 
            else if (!isNaN(V) && !isNaN(R)) {
                if (R === 0) { addErrorMessage(chatbot, 'ì €í•­(R)ì€ 0ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'); return; }
                P = (V * V) / R;
                formula = 'P = VÂ² / R';
                inputSummary = `V = ${V} V, R = ${R} Î©`;
                feedback = 'ì „ì••ê³¼ ì €í•­ì„ ì´ìš©í•´ ì „ë ¥ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤. **ì „ì› ì „ì••ì´ ê³ ì •ëœ ê²½ìš°**ì— ì‚¬ìš©ë©ë‹ˆë‹¤.';
            }

            const formattedResult = `ì†Œë¹„ ì „ë ¥ (P) = **${formatUnit(P, 'W')}** (ê³µì‹: ${formula})`;
            
            addUserMessage(chatbot, inputSummary);
            addBotMessage(chatbot, formattedResult, feedback);
        });


        // --- 3. ì €í•­ ìƒ‰ë  ê³„ì‚°ê¸° ë¡œì§ (ê¸°ì¡´ê³¼ ë™ì¼) ---
        
        const RESISTOR_CODES = {
            'black': 0, 'brown': 1, 'red': 2, 'orange': 3, 'yellow': 4,
            'green': 5, 'blue': 6, 'violet': 7, 'gray': 8, 'white': 9,
            'multiplier': {
                'black': 1, 'brown': 10, 'red': 100, 'orange': 1000, 
                'yellow': 10000, 'green': 100000, 'blue': 1000000,
                'gold': 0.1, 'silver': 0.01
            },
            'tolerance': {
                'brown': 1, 'red': 2, 'green': 0.5, 'blue': 0.25,
                'violet': 0.1, 'gray': 0.05, 'silver': 10, 'gold': 5
            }
        };

        const VALUE_COLORS = ['black', 'brown', 'red', 'orange', 'yellow', 'green', 'blue', 'violet', 'gray', 'white'];

        const BANDS_4 = [
            { id: 'band1', name: 'Band 1 (ì²«ì§¸)', type: 'value', colors: VALUE_COLORS.slice(1), default: 'brown' },
            { id: 'band2', name: 'Band 2 (ë‘˜ì§¸)', type: 'value', colors: VALUE_COLORS, default: 'black' },
            { id: 'band3', name: 'Band 3 (ìŠ¹ìˆ˜)', type: 'multiplier', colors: RESISTOR_CODES.multiplier, default: 'red' },
            { id: 'band4', name: 'Band 4 (ì˜¤ì°¨)', type: 'tolerance', colors: RESISTOR_CODES.tolerance, default: 'gold' }
        ];

        const BANDS_5 = [
            { id: 'band1', name: 'Band 1 (ì²«ì§¸)', type: 'value', colors: VALUE_COLORS.slice(1), default: 'brown' }, 
            { id: 'band2', name: 'Band 2 (ë‘˜ì§¸)', type: 'value', colors: VALUE_COLORS, default: 'black' },
            { id: 'band3', name: 'Band 3 (ì…‹ì§¸)', type: 'value', colors: VALUE_COLORS, default: 'black' },
            { id: 'band4', name: 'Band 4 (ìŠ¹ìˆ˜)', type: 'multiplier', colors: RESISTOR_CODES.multiplier, default: 'red' },
            { id: 'band5', name: 'Band 5 (ì˜¤ì°¨)', type: 'tolerance', colors: RESISTOR_CODES.tolerance, default: 'brown' }
        ];


        function createSelect(band) {
            const bandId = band.id;
            const bandLabel = band.name;

            let colorOptions = band.type === 'value' 
                ? band.colors 
                : Object.keys(band.colors);

            // "none" ì˜µì…˜ì„ ì¶”ê°€í•˜ì—¬ ì´ˆê¸° "undefined" ë©”ì‹œì§€ë¥¼ ë°©ì§€
            let defaultOption = band.type === 'value' 
                ? `<option value="none" disabled selected>ìƒ‰ìƒ ì„ íƒ</option>`
                : `<option value="none" disabled selected>ìƒ‰ìƒ ì„ íƒ</option>`;
            

            const selectHtml = `
                <div class="resistor-band-select">
                    <label for="${bandId}-select">${bandLabel}</label>
                    <select id="${bandId}-select" data-band-id="${bandId}" data-band-type="${band.type}">
                        ${defaultOption}
                        ${colorOptions.map(color => 
                            `<option value="${color}" ${color === band.default ? 'selected' : ''}>${color.charAt(0).toUpperCase() + color.slice(1)}</option>`
                        ).join('')}
                    </select>
                </div>
            `;
            return selectHtml;
        }

        function updateVisualizer(bandId, color, isActive) {
            const bandElement = document.getElementById(bandId);
            // 'none' ê°’ì´ ë“¤ì–´ì˜¬ ê²½ìš° ìƒ‰ê¹”ì„ ì§€ì •í•˜ì§€ ì•ŠìŒ
            const colorClass = color !== 'none' ? color : '';
            bandElement.className = `band ${colorClass} ${isActive ? 'active' : ''}`;
        }

        // isManualTrigger: ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œë§Œ ì±—ë´‡ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ë„ë¡ í”Œë˜ê·¸ ì¶”ê°€
        function calculateResistance(isManualTrigger = false) {
            const bandType = document.querySelector('input[name="band-type"]:checked').value;
            const bandDefinitions = bandType === '4band' ? BANDS_4 : BANDS_5;
            const chatbot = document.getElementById('resistor-chatbot');
            const colors = {};
            let inputSummary = '';
            let resistance = 0;
            const resistorBody = document.getElementById('resistor-body');

            resistorBody.className = `resistor-body ${bandType === '5band' ? 'five-band' : ''}`;

            const selectElements = document.querySelectorAll('#resistor-inputs select');
            
            // 1. ì„ íƒëœ ìƒ‰ê¹” ì €ì¥ ë° ì‹œê°í™” ì—…ë°ì´íŠ¸
            let allBandsSelected = true;
            selectElements.forEach(select => {
                const color = select.value;
                colors[select.dataset.bandId] = color;
                
                // 'none'ì„ ì„ íƒí–ˆë‹¤ë©´ ê³„ì‚°ì„ ì§„í–‰í•˜ì§€ ì•ŠìŒ
                if (color === 'none') {
                    allBandsSelected = false;
                }
            });
            
            // ì‹œê°í™”ëŠ” ì„ íƒ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ì—…ë°ì´íŠ¸
            for(let i=1; i<=5; i++) {
                const bandDef = bandDefinitions.find(d => d.id === `band${i}`);
                const color = colors[`band${i}`];
                updateVisualizer(`band${i}`, color || '', !!bandDef);
            }

            if (!allBandsSelected) {
                if (isManualTrigger) {
                    addErrorMessage(chatbot, 'ëª¨ë“  ìƒ‰ë ë¥¼ ì„ íƒí•´ì•¼ ì €í•­ê°’ì„ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                }
                return; // í•„ìˆ˜ ì…ë ¥ê°’ì´ ì—†ìœ¼ë©´ ê³„ì‚° ì¤‘ë‹¨
            }


            // 2. ì…ë ¥ ìš”ì•½ ìƒì„± (ê³„ì‚°ì´ ê°€ëŠ¥í•  ë•Œë§Œ ì‹¤í–‰)
            bandDefinitions.forEach((bandDef) => {
                const color = colors[bandDef.id];
                const bandValue = color.charAt(0).toUpperCase() + color.slice(1);
                inputSummary += `${bandDef.name.split('(')[0].trim()}: ${bandValue} | `;
            });

            // 3. ì €í•­ê°’ ê³„ì‚°
            const toleranceColor = colors[`band${bandDefinitions.length}`];
            const multiplierColor = colors[`band${bandDefinitions.length - 1}`];
            
            const multiplier = RESISTOR_CODES.multiplier[multiplierColor];
            const tolerance = RESISTOR_CODES.tolerance[toleranceColor];

            if (bandType === '4band') {
                const value1 = RESISTOR_CODES[colors.band1];
                const value2 = RESISTOR_CODES[colors.band2];
                resistance = (value1 * 10 + value2) * multiplier;
            } else { // 5band
                const value1 = RESISTOR_CODES[colors.band1];
                const value2 = RESISTOR_CODES[colors.band2];
                const value3 = RESISTOR_CODES[colors.band3];
                resistance = (value1 * 100 + value2 * 10 + value3) * multiplier;
            }

            const toleranceValue = resistance * (tolerance / 100);
            const minResistance = resistance - toleranceValue;
            const maxResistance = resistance + toleranceValue;

            const formattedR = formatUnit(resistance, 'Î©');
            const formattedMin = formatUnit(minResistance, 'Î©');
            const formattedMax = formatUnit(maxResistance, 'Î©');

            const resultHTML = `
                ì €í•­ê°’: **${formattedR}** Â± ${tolerance}%<br>
                ìµœì†Œ ë²”ìœ„: ${formattedMin}<br>
                ìµœëŒ€ ë²”ìœ„: ${formattedMax}
            `;
            
            const feedback = bandType === '5band' 
                ? `ì„ íƒí•œ **5ìƒ‰ë  (ì •ë°€ ì €í•­)**ì— ë”°ë¥¸ ê³„ì‚° ê²°ê³¼ì…ë‹ˆë‹¤. 3ê°œì˜ ìœ íš¨ ìˆ«ìê°€ ì‚¬ìš©ë˜ì–´ ì •ë°€ë„ê°€ ë†’ìŠµë‹ˆë‹¤.`
                : `ì„ íƒí•œ **4ìƒ‰ë  ì €í•­**ì— ë”°ë¥¸ ê³„ì‚° ê²°ê³¼ì…ë‹ˆë‹¤. 2ê°œì˜ ìœ íš¨ ìˆ«ìê°€ ì‚¬ìš©ë˜ë©° ì¼ë°˜ì ì¸ ìš©ë„ì— ì‚¬ìš©ë©ë‹ˆë‹¤.`;

            // 4. ì±—ë´‡ ë©”ì‹œì§€ ì¶œë ¥ (ìˆ˜ë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°ë˜ì—ˆì„ ë•Œë§Œ)
            if (isManualTrigger) {
                addUserMessage(chatbot, inputSummary.trim());
                addBotMessage(chatbot, resultHTML, feedback);
            }
        }

        // setupResistorCalculator í•¨ìˆ˜ ìˆ˜ì •: ì´ˆê¸° ë©”ì‹œì§€ ì¶œë ¥ì„ ì œì–´í•˜ëŠ” í”Œë˜ê·¸ ì¶”ê°€
        function setupResistorCalculator(shouldOutputMessage) {
            const resistorInputsDiv = document.getElementById('resistor-inputs');
            const bandType = document.querySelector('input[name="band-type"]:checked').value;
            const bandDefinitions = bandType === '4band' ? BANDS_4 : BANDS_5;
            
            resistorInputsDiv.innerHTML = '';
            
            let inputsHTML = '';
            bandDefinitions.forEach(band => {
                inputsHTML += createSelect(band);
            });
            resistorInputsDiv.innerHTML = inputsHTML;

            // í¼ ì œì¶œ ë²„íŠ¼ì— ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ (DOMì´ ìƒˆë¡œ ë¡œë“œë˜ë¯€ë¡œ ë‹¤ì‹œ ë°”ì¸ë”©)
            document.querySelector('#resistor button.calculate-btn').onclick = () => calculateResistance(true);

            // ë“œë¡­ë‹¤ìš´ ë³€ê²½ ì‹œ ì‹œê°í™”ë§Œ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ (ê³„ì‚° ê²°ê³¼ ë©”ì‹œì§€ X)
            const selects = resistorInputsDiv.querySelectorAll('select');
            selects.forEach(select => {
                select.addEventListener('change', () => {
                    // ê³„ì‚°ì€ ì‹¤í–‰í•˜ë˜, ì±—ë´‡ ë©”ì‹œì§€ ì¶œë ¥ì€ í•˜ì§€ ì•ŠìŒ (ì‹œê°í™”ë§Œ ì—…ë°ì´íŠ¸)
                    calculateResistance(false); 
                });
            });
            
            // ì´ˆê¸° ì‹œê°í™” ì„¤ì • (ë©”ì‹œì§€ ì¶œë ¥ X)
            calculateResistance(false); 
            
            // ì´ˆê¸° ì•ˆë‚´ ë©”ì‹œì§€ëŠ” íƒ­ì´ ë¡œë“œë  ë•Œë§Œ (shouldOutputMessageê°€ trueì¼ ë•Œ) ì¶œë ¥
            if (shouldOutputMessage) {
                 const chatbot = document.getElementById('resistor-chatbot');
                 addBotMessage(chatbot, 'ìƒˆë¡œìš´ ì €í•­ ìœ í˜•ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ìƒ‰ë ë¥¼ ì„ íƒí•˜ê³  **"ìƒ‰ë  ê³„ì‚° ë° ê²°ê³¼ í™•ì¸"** ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.', 'ì¤€ë¹„ ì™„ë£Œ');
            }
        }
    </script>
    </body>
</html>